# 浏览器工作原理学习笔记

## 浏览器的工作流程

1. URL：http
2. HTML: parse
3. DOM: css computing
4. DOM With CSS: Layout
5. DOM With pistion: render
6. Output: Bitmap

## 有限状态机

> 处理字符串

- 每一个状态都是一个机器
  - 在每一个机器里，我们可以做计算、存储、输出
  - 所有的这些机器接受的输入是一致的
  - 状态机的每一个机器本身没有状态，如果我们用函数来表示的话，他应该是纯函数（无副作用）
- 每一个机器知道下一个状态
  - 每个机器都有确定的下一个状态（Moore）
    > 摩尔状态机：简单的状态机，每一个机器都有一个确定的状态。比如我从状态 a 无论接受什么样的输入，都会进到下一个状态 b，在状态 b 无论接受森么样的输入都可以进到下一个状态 c。
  - 每个机器根据输入决定一下状态（Mealy）
    > Mealy 型状态机：随着输入不同，对应不同的状态。比如通过 if-else 进行不同状态的判断

### JS 中的有限状态机（Mealy）

```js
    // 每一个函数就是一个状态
    function state(input) {

        // TODO
        return next； // 返回值作为下一个状态
    }

    /** 调用 **/
    while（input）{
        // 获取输入
        state = state（input); // 把状态机的返回值作为下一个状态
    }
```

## ISO-OSI 七层网络模型

- 应用
- 表示
- 会话
  > HTTP（require('hhtp')
- 传输
  > TCP（require('net')）
- 网络
  > Internet
- 数据链路
- 物理
  > 5G/4G/WIFI

## TCP-IP 协议族五层网络模型

- 应用层
- 传输层
- 网络层
- 数据链路层
- 物理层

## TCP 与 IP 的基础知识

- 流
  > 类似水流的概念，没有明显的分割界限。
- 端口
  > 网卡是根据端口将接受到的这些数据包，准确的分配给各个应用，端口可以说是各个应用的身份标识
- 包
- ip 地址
